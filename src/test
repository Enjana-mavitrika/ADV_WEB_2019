;              
CREATE USER IF NOT EXISTS "SA" SALT '92473aaab73578e2' HASH '202ea2f421dd04e2d5c5ff07dc77724de1ab2e0b2f27233260232088d7b656c5' ADMIN;          
CREATE SEQUENCE "PUBLIC"."HIBERNATE_SEQUENCE" START WITH 27;   
CREATE CACHED TABLE "PUBLIC"."CLASS"(
    "ID" BIGINT NOT NULL,
    "LEVEL" INTEGER NOT NULL,
    "NAME" VARCHAR(255)
);       
ALTER TABLE "PUBLIC"."CLASS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_3" PRIMARY KEY("ID");         
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.CLASS;    
INSERT INTO "PUBLIC"."CLASS" VALUES
(18, 1, 'Master INFORMATIQUE'),
(19, 2, 'Master INFORMATIQUE');            
CREATE CACHED TABLE "PUBLIC"."CLASS_OPTIONS"(
    "CLASS_ID" BIGINT NOT NULL,
    "OPTIONS_ID" BIGINT NOT NULL
);              
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.CLASS_OPTIONS;            
INSERT INTO "PUBLIC"."CLASS_OPTIONS" VALUES
(18, 15),
(18, 16),
(18, 17),
(19, 24);            
CREATE CACHED TABLE "PUBLIC"."COURSE"(
    "ID" BIGINT NOT NULL,
    "COMMENTARY" VARCHAR(255),
    "DATE_COURSE" DATE,
    "NAME" VARCHAR(255),
    "PDF_LINK" VARCHAR(255),
    "STUDENT_USER_NAME" VARCHAR(255)
);          
ALTER TABLE "PUBLIC"."COURSE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("ID");        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COURSE;   
CREATE CACHED TABLE "PUBLIC"."CLASS_SUBJECTS"(
    "CLASS_ID" BIGINT NOT NULL,
    "SUBJECTS_ID" BIGINT NOT NULL
);            
-- 12 +/- SELECT COUNT(*) FROM PUBLIC.CLASS_SUBJECTS;          
INSERT INTO "PUBLIC"."CLASS_SUBJECTS" VALUES
(15, 9),
(15, 10),
(15, 11),
(16, 12),
(16, 13),
(16, 14),
(37, 31),
(37, 32),
(37, 33),
(38, 34),
(38, 35),
(38, 36);            
CREATE CACHED TABLE "PUBLIC"."CONTENT"(
    "ID" BIGINT NOT NULL,
    "FORMAT" VARCHAR(255),
    "LINK" VARCHAR(255)
);        
ALTER TABLE "PUBLIC"."CONTENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("ID");       
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.CONTENT;  
CREATE CACHED TABLE "PUBLIC"."COURSE_LINKS"(
    "COURSE_ID" BIGINT NOT NULL,
    "LINKS" VARCHAR(255)
);      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COURSE_LINKS;             
CREATE CACHED TABLE "PUBLIC"."COURSE_CONTENTS"(
    "COURSE_ID" BIGINT NOT NULL,
    "CONTENTS_ID" BIGINT NOT NULL
);          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COURSE_CONTENTS;          
CREATE CACHED TABLE "PUBLIC"."COURSE_PAGES"(
    "COURSE_ID" BIGINT NOT NULL,
    "PAGES" INTEGER
);           
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COURSE_PAGES;             
CREATE CACHED TABLE "PUBLIC"."COURSE_RATES"(
    "COURSE_ID" BIGINT NOT NULL,
    "RATES_ID" BIGINT NOT NULL
);
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.COURSE_RATES;             
CREATE CACHED TABLE "PUBLIC"."OPTION"(
    "ID" BIGINT NOT NULL,
    "NAME" VARCHAR(255)
);    
ALTER TABLE "PUBLIC"."OPTION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");        
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.OPTION;   
INSERT INTO "PUBLIC"."OPTION" VALUES
(15, 'DSC'),
(16, 'MLDM'),
(17, 'CPS2'),
(24, 'DSC');     
CREATE CACHED TABLE "PUBLIC"."PUBLICATION"(
    "ID" BIGINT NOT NULL,
    "COMMENTARY" VARCHAR(255),
    "DATE" VARCHAR(255),
    "COURSE_ID" BIGINT,
    "STUDENT_ID" BIGINT
);               
ALTER TABLE "PUBLIC"."PUBLICATION" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");   
-- 7 +/- SELECT COUNT(*) FROM PUBLIC.PUBLICATION;              
INSERT INTO "PUBLIC"."PUBLICATION" VALUES
(7, NULL, NULL, 1, NULL),
(8, NULL, NULL, 2, NULL),
(9, NULL, NULL, 3, NULL),
(10, NULL, NULL, 4, NULL),
(11, NULL, NULL, 5, NULL),
(12, NULL, NULL, 6, NULL),
(29, '', '0', NULL, 23);              
CREATE CACHED TABLE "PUBLIC"."PUBLICATION_LINKS"(
    "PUBLICATION_ID" BIGINT NOT NULL,
    "LINKS" VARCHAR(255)
);            
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.PUBLICATION_LINKS;        
INSERT INTO "PUBLIC"."PUBLICATION_LINKS" VALUES
(29, '/home/nerd/Documents/MASTER 1/DEV_WEB_ADV/PROJET/ADV_WEB_2019/src/./src/main/resources/static/img/courses/889219382.jpg.0.jpg');         
CREATE CACHED TABLE "PUBLIC"."PUBLICATION_RATES"(
    "PUBLICATION_ID" BIGINT NOT NULL,
    "RATES_ID" BIGINT NOT NULL
);      
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.PUBLICATION_RATES;        
INSERT INTO "PUBLIC"."PUBLICATION_RATES" VALUES
(7, 13),
(7, 14);              
CREATE CACHED TABLE "PUBLIC"."OPTION_CLASSES"(
    "OPTION_ID" BIGINT NOT NULL,
    "CLASSES_ID" BIGINT NOT NULL
);            
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.OPTION_CLASSES;           
INSERT INTO "PUBLIC"."OPTION_CLASSES" VALUES
(15, 18),
(15, 19),
(17, 19),
(24, 19);           
CREATE CACHED TABLE "PUBLIC"."OPTION_SUBJECTS"(
    "OPTION_ID" BIGINT NOT NULL,
    "SUBJECTS_ID" BIGINT NOT NULL
);          
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.OPTION_SUBJECTS;          
INSERT INTO "PUBLIC"."OPTION_SUBJECTS" VALUES
(24, 25),
(15, 26);              
CREATE CACHED TABLE "PUBLIC"."RATE"(
    "ID" BIGINT NOT NULL,
    "DISLIKE" BOOLEAN,
    "COURSE_ID" BIGINT,
    "STUDENT_USER_NAME" VARCHAR(255)
);          
ALTER TABLE "PUBLIC"."RATE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID");          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.RATE;     
CREATE CACHED TABLE "PUBLIC"."REQUEST"(
    "ID" BIGINT NOT NULL,
    "DATE_COURSE" DATE,
    "COURSE_ID" BIGINT,
    "STUDENT_USER_NAME" VARCHAR(255)
);      
ALTER TABLE "PUBLIC"."REQUEST" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6C" PRIMARY KEY("ID");      
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.REQUEST;  
CREATE CACHED TABLE "PUBLIC"."SUBJECT_PUBLICATIONS"(
    "SUBJECT_ID" BIGINT NOT NULL,
    "PUBLICATIONS_ID" BIGINT NOT NULL
);
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.SUBJECT_PUBLICATIONS;     
INSERT INTO "PUBLIC"."SUBJECT_PUBLICATIONS" VALUES
(15, 7),
(15, 8),
(15, 9),
(15, 10),
(15, 11),
(15, 12);    
CREATE CACHED TABLE "PUBLIC"."SUBJECT"(
    "ID" BIGINT NOT NULL,
    "NAME" VARCHAR(255)
);   
ALTER TABLE "PUBLIC"."SUBJECT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("ID");       
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.SUBJECT;  
INSERT INTO "PUBLIC"."SUBJECT" VALUES
(12, 'Data Analysis'),
(13, 'Deep Learning'),
(25, 'Data Analysis'),
(26, 'Intro to IA');
CREATE CACHED TABLE "PUBLIC"."SUBJECT_COURSES"(
    "SUBJECT_ID" BIGINT NOT NULL,
    "COURSES_ID" BIGINT NOT NULL
);          
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.SUBJECT_COURSES;          
CREATE CACHED TABLE "PUBLIC"."SUBJECT_OPTIONS"(
    "SUBJECT_ID" BIGINT NOT NULL,
    "OPTIONS_ID" BIGINT NOT NULL
);          
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.SUBJECT_OPTIONS;          
INSERT INTO "PUBLIC"."SUBJECT_OPTIONS" VALUES
(25, 24),
(26, 15);              
CREATE CACHED TABLE "PUBLIC"."SUBJECT_REQUESTS"(
    "SUBJECT_ID" BIGINT NOT NULL,
    "REQUESTS_ID" BIGINT NOT NULL
);        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.SUBJECT_REQUESTS;         
CREATE CACHED TABLE "PUBLIC"."USER"(
    "DTYPE" VARCHAR(31) NOT NULL,
    "USER_NAME" VARCHAR(255) NOT NULL,
    "DERIVED_PASSWORD" VARCHAR(255),
    "DISPLAY_NAME" VARCHAR(255),
    "LEVEL" INTEGER,
    "OPTION" VARCHAR(255)
);          
ALTER TABLE "PUBLIC"."USER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_27" PRIMARY KEY("USER_NAME");  
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.USER;     
INSERT INTO "PUBLIC"."USER" VALUES
('Student', 'esi', '$2a$10$xMZnpi8.LbqZauBGETeaU.z3Jv7DegcAM0ThvvWoChK7AtBlV.rGq', 'esi', 5, ''),
('Student', 'Solofo', '$2a$10$pwHsTs6iYfnnP1rVmgWUcexTL38WxvS64iLomQYacVN5OpfD9aK0C', 'Solofo', 4, 'INFORMATIQUE DSC'),
('Student', 'Elias', '$2a$10$QzhQuUBN/AH80hrEn6x1dOSNIFQyV0bAZhme.Ir8CAsh27/7Di4Ey', 'Elias', 4, 'INFORMATIQUE DSC');             
CREATE CACHED TABLE "PUBLIC"."USER_CLASSES"(
    "STUDENT_USER_NAME" VARCHAR(255) NOT NULL,
    "CLASSES_ID" BIGINT NOT NULL
);
-- 6 +/- SELECT COUNT(*) FROM PUBLIC.USER_CLASSES;             
INSERT INTO "PUBLIC"."USER_CLASSES" VALUES
('esi', 18),
('esi', 19),
('Solofo', 18),
('Solofo', 19),
('Elias', 18),
('Elias', 19);             
CREATE CACHED TABLE "PUBLIC"."USER_ROLES"(
    "USER_USER_NAME" VARCHAR(255) NOT NULL,
    "ROLES" VARCHAR(255)
);             
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.USER_ROLES;               
INSERT INTO "PUBLIC"."USER_ROLES" VALUES
('esi', 'USER'),
('esi', 'ADMIN'),
('Solofo', 'USER'),
('Elias', 'USER');             
ALTER TABLE "PUBLIC"."COURSE_RATES" ADD CONSTRAINT "PUBLIC"."UK_BU49RPTXVALMF6V0WXNV7QP1S" UNIQUE("RATES_ID"); 
ALTER TABLE "PUBLIC"."SUBJECT_REQUESTS" ADD CONSTRAINT "PUBLIC"."UK_43SPPLOODB7TCAN9S01A9GQBK" UNIQUE("REQUESTS_ID");          
ALTER TABLE "PUBLIC"."SUBJECT_COURSES" ADD CONSTRAINT "PUBLIC"."UK_DNT7TLVJTF2P98Y0BSOGH2JVR" UNIQUE("COURSES_ID");            
ALTER TABLE "PUBLIC"."SUBJECT_PUBLICATIONS" ADD CONSTRAINT "PUBLIC"."UK_66KINMN3IWHUDW6OWHIQI7UMA" UNIQUE("PUBLICATIONS_ID");  
ALTER TABLE "PUBLIC"."COURSE_CONTENTS" ADD CONSTRAINT "PUBLIC"."UK_M2APUA7KHA7TX61OPJT43GTN3" UNIQUE("CONTENTS_ID");           
ALTER TABLE "PUBLIC"."PUBLICATION_RATES" ADD CONSTRAINT "PUBLIC"."UK_F2D0J6QX6ETRFTKTFY0E4S9X6" UNIQUE("RATES_ID");            
ALTER TABLE "PUBLIC"."CLASS_SUBJECTS" ADD CONSTRAINT "PUBLIC"."UK_SW2XUK2C8YW8HQ1Y6WFT93SDI" UNIQUE("SUBJECTS_ID");            
ALTER TABLE "PUBLIC"."USER_ROLES" ADD CONSTRAINT "PUBLIC"."FKRDOTVU84U5NCGVR22I2MBYOGA" FOREIGN KEY("USER_USER_NAME") REFERENCES "PUBLIC"."USER"("USER_NAME") NOCHECK;         
ALTER TABLE "PUBLIC"."PUBLICATION_RATES" ADD CONSTRAINT "PUBLIC"."FKSQGCIU5XBDJ147I4VTTTM45J4" FOREIGN KEY("PUBLICATION_ID") REFERENCES "PUBLIC"."PUBLICATION"("ID") NOCHECK;  
ALTER TABLE "PUBLIC"."SUBJECT_OPTIONS" ADD CONSTRAINT "PUBLIC"."FK1KVN2ORXBMPRRYPY4WBO9S6P6" FOREIGN KEY("OPTIONS_ID") REFERENCES "PUBLIC"."OPTION"("ID") NOCHECK;             
ALTER TABLE "PUBLIC"."COURSE_LINKS" ADD CONSTRAINT "PUBLIC"."FKM81C7RCRLKYHVSB1E8G98QK3U" FOREIGN KEY("COURSE_ID") REFERENCES "PUBLIC"."COURSE"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."SUBJECT_PUBLICATIONS" ADD CONSTRAINT "PUBLIC"."FKC8C4DACHH9KYJLJU4VDOYCVGF" FOREIGN KEY("PUBLICATIONS_ID") REFERENCES "PUBLIC"."PUBLICATION"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."OPTION_CLASSES" ADD CONSTRAINT "PUBLIC"."FKM6UMU3JKO5C1W4RTNAFPRBXYO" FOREIGN KEY("CLASSES_ID") REFERENCES "PUBLIC"."CLASS"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."SUBJECT_COURSES" ADD CONSTRAINT "PUBLIC"."FK2EUBM60I1O7R9H2N4UXTT93XU" FOREIGN KEY("COURSES_ID") REFERENCES "PUBLIC"."COURSE"("ID") NOCHECK;             
ALTER TABLE "PUBLIC"."OPTION_CLASSES" ADD CONSTRAINT "PUBLIC"."FKMKYW252DNYPV14FIUW4HC6QV1" FOREIGN KEY("OPTION_ID") REFERENCES "PUBLIC"."OPTION"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."COURSE_CONTENTS" ADD CONSTRAINT "PUBLIC"."FKOJJR4UYMFCYUT9ULXYUCC9N8K" FOREIGN KEY("CONTENTS_ID") REFERENCES "PUBLIC"."CONTENT"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."CLASS_OPTIONS" ADD CONSTRAINT "PUBLIC"."FKKY1I2PF683DHADLS3M9JV1LHD" FOREIGN KEY("OPTIONS_ID") REFERENCES "PUBLIC"."OPTION"("ID") NOCHECK;               
ALTER TABLE "PUBLIC"."SUBJECT_OPTIONS" ADD CONSTRAINT "PUBLIC"."FKEEBPD8101G9YGBTWPDQYAROUB" FOREIGN KEY("SUBJECT_ID") REFERENCES "PUBLIC"."SUBJECT"("ID") NOCHECK;            
ALTER TABLE "PUBLIC"."COURSE" ADD CONSTRAINT "PUBLIC"."FK7KTR0KJCR11HO6ALT6OM8QBV2" FOREIGN KEY("STUDENT_USER_NAME") REFERENCES "PUBLIC"."USER"("USER_NAME") NOCHECK;          
ALTER TABLE "PUBLIC"."SUBJECT_REQUESTS" ADD CONSTRAINT "PUBLIC"."FKSF1WW0ANG4PVDUENOP0I8O5YP" FOREIGN KEY("REQUESTS_ID") REFERENCES "PUBLIC"."REQUEST"("ID") NOCHECK;          
ALTER TABLE "PUBLIC"."USER_CLASSES" ADD CONSTRAINT "PUBLIC"."FKMSITGG7JN6RNC9T4R11EJGAGE" FOREIGN KEY("STUDENT_USER_NAME") REFERENCES "PUBLIC"."USER"("USER_NAME") NOCHECK;    
ALTER TABLE "PUBLIC"."OPTION_SUBJECTS" ADD CONSTRAINT "PUBLIC"."FKP7ECR2188R76PO1CD8T090IBJ" FOREIGN KEY("OPTION_ID") REFERENCES "PUBLIC"."OPTION"("ID") NOCHECK;              
ALTER TABLE "PUBLIC"."SUBJECT_REQUESTS" ADD CONSTRAINT "PUBLIC"."FK79UEJW7QU9RYJSB0MIEK5KCVO" FOREIGN KEY("SUBJECT_ID") REFERENCES "PUBLIC"."SUBJECT"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."COURSE_RATES" ADD CONSTRAINT "PUBLIC"."FKJ7UMM6IPFS3USPIAE5SBOXVY3" FOREIGN KEY("COURSE_ID") REFERENCES "PUBLIC"."COURSE"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."USER_CLASSES" ADD CONSTRAINT "PUBLIC"."FK745J9KBDHVGITKLS97QA9W42D" FOREIGN KEY("CLASSES_ID") REFERENCES "PUBLIC"."CLASS"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."RATE" ADD CONSTRAINT "PUBLIC"."FK6BWLO6DKQ3S715O1MI3A8GVMI" FOREIGN KEY("COURSE_ID") REFERENCES "PUBLIC"."COURSE"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."COURSE_PAGES" ADD CONSTRAINT "PUBLIC"."FK73TMETQI0QA2WPVQVTBX5OROQ" FOREIGN KEY("COURSE_ID") REFERENCES "PUBLIC"."COURSE"("ID") NOCHECK; 
ALTER TABLE "PUBLIC"."REQUEST" ADD CONSTRAINT "PUBLIC"."FKKIAHC7Y9OT2EN76F335FFCMIS" FOREIGN KEY("STUDENT_USER_NAME") REFERENCES "PUBLIC"."USER"("USER_NAME") NOCHECK;         
ALTER TABLE "PUBLIC"."SUBJECT_COURSES" ADD CONSTRAINT "PUBLIC"."FK7YNFSCQXBP3PCYWEB71ARTBR5" FOREIGN KEY("SUBJECT_ID") REFERENCES "PUBLIC"."SUBJECT"("ID") NOCHECK;            
ALTER TABLE "PUBLIC"."CLASS_OPTIONS" ADD CONSTRAINT "PUBLIC"."FK159LRJW1FTN0W0NE6OTITBJQH" FOREIGN KEY("CLASS_ID") REFERENCES "PUBLIC"."CLASS"("ID") NOCHECK;  
ALTER TABLE "PUBLIC"."RATE" ADD CONSTRAINT "PUBLIC"."FKHIY5IAEN5WUI4CTSWBTAAHPTR" FOREIGN KEY("STUDENT_USER_NAME") REFERENCES "PUBLIC"."USER"("USER_NAME") NOCHECK;            
ALTER TABLE "PUBLIC"."COURSE_RATES" ADD CONSTRAINT "PUBLIC"."FKREFR52PM5ERGA1TY3P2UDAWPE" FOREIGN KEY("RATES_ID") REFERENCES "PUBLIC"."RATE"("ID") NOCHECK;    
ALTER TABLE "PUBLIC"."OPTION_SUBJECTS" ADD CONSTRAINT "PUBLIC"."FK6WCFPT502XLJPSQ5S4YIIVAP1" FOREIGN KEY("SUBJECTS_ID") REFERENCES "PUBLIC"."SUBJECT"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."PUBLICATION_LINKS" ADD CONSTRAINT "PUBLIC"."FK6EXSVGSV2BP6IX052RS7JKY2L" FOREIGN KEY("PUBLICATION_ID") REFERENCES "PUBLIC"."PUBLICATION"("ID") NOCHECK;  
ALTER TABLE "PUBLIC"."REQUEST" ADD CONSTRAINT "PUBLIC"."FK4Q7F1KJ7LIL7THDIMI7N0IG2W" FOREIGN KEY("COURSE_ID") REFERENCES "PUBLIC"."COURSE"("ID") NOCHECK;      
